(this["webpackJsonpgoit-react-hw-03-phonebook"]=this["webpackJsonpgoit-react-hw-03-phonebook"]||[]).push([[1],{17:function(e,t,n){e.exports={navLink:"Navigation_navLink__3YLG5",activeNavLink:"Navigation_activeNavLink__3Out5",navigation:"Navigation_navigation__TXKId",navContainer:"Navigation_navContainer__1DsIx"}},18:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"e",(function(){return c})),n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return s})),n.d(t,"d",(function(){return i}));var r=function(e){return e.user.isLogedIn},c=function(e){return e.user.user.name},a=function(e){return e.user.isRefreshing},s=function(e){return e.user.isPasswordCorrect},i=function(e){return e.user.isUserAlradyRegister}},28:function(e,t,n){"use strict";n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return s}));var r=n(5),c=Object(r.b)("contacts/setFilter"),a=Object(r.b)("contacts/openModal"),s=Object(r.b)("contacts/closeModal")},29:function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return l})),n.d(t,"b",(function(){return b})),n.d(t,"a",(function(){return d}));var r=n(7),c=n.n(r),a=n(19),s=n(5),i=n(12),u=n.n(i);u.a.defaults.baseURL="https://connections-api.herokuapp.com/";var o=Object(s.c)("contacts/fetchContacts",Object(a.a)(c.a.mark((function e(){var t,n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.a.get("/contacts");case 3:return t=e.sent,n=t.data,e.abrupt("return",n);case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})))),l=Object(s.c)("contacts/postContact",function(){var e=Object(a.a)(c.a.mark((function e(t){var n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.a.post("/contacts",t);case 3:return n=e.sent,r=n.data,e.abrupt("return",r);case 8:e.prev=8,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()),b=Object(s.c)("contacts/deleteContact",function(){var e=Object(a.a)(c.a.mark((function e(t){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.a.delete("/contacts/".concat(t));case 3:return e.abrupt("return",t);case 6:e.prev=6,e.t0=e.catch(0);case 8:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}}()),d=Object(s.c)("contacts/correctContact",function(){var e=Object(a.a)(c.a.mark((function e(t){var n,r,a,s;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.id,r=t.name,a=t.number,e.prev=1,s={name:r,number:a},e.next=5,u.a.patch("/contacts/".concat(n),s);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(1);case 9:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(t){return e.apply(this,arguments)}}())},36:function(e,t,n){e.exports={userMenuContainer:"userMenu_userMenuContainer__3zZLC",userMenuBtn:"userMenu_userMenuBtn__3xK8S"}},53:function(e,t,n){e.exports={Container:"Container_Container__1A6NW"}},85:function(e,t,n){},88:function(e,t,n){"use strict";n.r(t);var r,c,a=n(0),s=n.n(a),i=n(26),u=n.n(i),o=n(5),l=n(6),b=n(29),d=n(28),j=n(9),f=Object(o.d)({name:"contacts",initialState:{items:[],filter:"",isModalOpen:!1,mutableContactId:null},extraReducers:(r={},Object(l.a)(r,b.c.fulfilled,(function(e,t){e.items=t.payload})),Object(l.a)(r,d.c,(function(e,t){e.filter=t.payload})),Object(l.a)(r,b.d.fulfilled,(function(e,t){e.items.push(t.payload)})),Object(l.a)(r,b.b.fulfilled,(function(e,t){e.items=e.items.filter((function(e){return e.id!==t.payload}))})),Object(l.a)(r,d.b,(function(e,t){e.isModalOpen=!0,e.mutableContactId=t.payload})),Object(l.a)(r,d.a,(function(e){e.isModalOpen=!1})),Object(l.a)(r,j.b.fulfilled,(function(e){e.items=[],e.filter=""})),r)}).reducer,O=Object(o.d)({name:"user",initialState:{user:{name:"",email:""},token:null,isLogedIn:!1,isRefreshing:!1,isPasswordCorrect:!0,isUserAlradyRegister:!1},extraReducers:(c={},Object(l.a)(c,j.d.fulfilled,(function(e,t){e.user=t.payload.user,e.token=t.payload.token,e.isLogedIn=!0,e.isUserAlradyRegister=!1})),Object(l.a)(c,j.d.rejected,(function(e){e.isUserAlradyRegister=!0})),Object(l.a)(c,j.c.fulfilled,(function(e,t){e.user=t.payload.user,e.token=t.payload.token,e.isLogedIn=!0,e.isPasswordCorrect=!0})),Object(l.a)(c,j.c.rejected,(function(e){e.isPasswordCorrect=!1})),Object(l.a)(c,j.b.fulfilled,(function(e){e.user={name:"",email:""},e.token=null,e.isLogedIn=!1})),Object(l.a)(c,j.a.fulfilled,(function(e,t){e.user.name=t.payload.name,e.user.email=t.payload.email,e.isLogedIn=t.payload.isLogedIn,e.isRefreshing=!1})),Object(l.a)(c,j.a.rejected,(function(e){e.isRefreshing=!1})),Object(l.a)(c,j.a.pending,(function(e){e.isRefreshing=!0})),c)}).reducer,p=n(21),h=n(50),v={key:"user",storage:n.n(h).a,whitelist:"token"},x=Object(o.a)({reducer:{contacts:f,user:Object(p.g)(v,O)},middleware:function(e){return e({serializableCheck:{ignoredActions:[p.a,p.f,p.b,p.c,p.d,p.e]}})},devTools:!1}),m=Object(p.h)(x),g=n(51),k=n(4),y=n(20),C=(n(83),n(84),n(3)),w=(n(85),n(17)),L=n.n(w),N=n(18),_=n(90),I=n(36),M=n.n(I),R=n(1),z=Object(k.b)()((function(){var e=Object(k.d)(N.e),t=Object(k.c)();return Object(R.jsxs)("div",{className:M.a.userMenuContainer,children:[Object(R.jsxs)("p",{children:["\u041f\u0440\u0438\u0432\u0435\u0442: ",e]}),Object(R.jsx)(_.a,{className:M.a.userMenuBtn,type:"button",onClick:function(){return t(Object(j.b)())},children:"\u0412\u044b\u0439\u0442\u0438"})]})})),A=Object(k.b)()((function(){return Object(R.jsxs)("div",{className:L.a.navContainer,children:[Object(R.jsx)(y.b,{to:"/login",className:L.a.navLink,activeClassName:L.a.activeNavLink,children:"\u041b\u043e\u0433\u0438\u043d"}),Object(R.jsx)(y.b,{to:"/register",className:L.a.navLink,activeClassName:L.a.activeNavLink,children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"})]})})),P=Object(k.b)()((function(){var e=Object(k.d)(N.a);return Object(R.jsx)(R.Fragment,{children:e?Object(R.jsx)(z,{}):Object(R.jsx)(A,{})})})),U=Object(k.b)()((function(){var e=Object(k.d)(N.a),t=Object(k.d)(N.c);return Object(R.jsxs)(R.Fragment,{children:[Object(R.jsxs)("nav",{className:L.a.navigation,children:[Object(R.jsxs)("div",{children:[Object(R.jsx)(y.b,{to:"/",exact:!0,className:L.a.navLink,activeClassName:L.a.activeNavLink,children:"\u0413\u043b\u0430\u0432\u043d\u0430\u044f"}),e&&Object(R.jsx)(y.b,{to:"/contacts",className:L.a.navLink,activeClassName:L.a.activeNavLink,children:"\u041a\u043e\u043d\u0442\u0430\u043a\u0442\u044b"})]}),!t&&Object(R.jsx)(P,{})]}),Object(R.jsx)("hr",{})]})})),S=n(53),B=n.n(S),F=function(e){var t=e.children;return Object(R.jsx)("div",{className:B.a.Container,children:t})},D=n(8),E=n(22),J=["children"],K=Object(k.b)()((function(e){var t=e.children,n=Object(E.a)(e,J),r=Object(k.d)(N.a);return Object(R.jsx)(C.b,Object(D.a)(Object(D.a)({},n),{},{children:r?t:Object(R.jsx)(C.a,{to:"/login"})}))})),T=["children","restrickted"],G=Object(k.b)()((function(e){var t=e.children,n=e.restrickted,r=void 0!==n&&n,c=Object(E.a)(e,T),a=Object(k.d)(N.a)&&r;return Object(R.jsx)(C.b,Object(D.a)(Object(D.a)({},c),{},{children:a?Object(R.jsx)(C.a,{to:"/contacts"}):t}))})),W=Object(a.lazy)((function(){return n.e(10).then(n.bind(null,125))})),X=Object(a.lazy)((function(){return n.e(4).then(n.bind(null,126))})),Y=Object(a.lazy)((function(){return n.e(5).then(n.bind(null,131))})),Z=Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(7),n.e(6)]).then(n.bind(null,132))})),q=Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(8)]).then(n.bind(null,127))})),H=Object(a.lazy)((function(){return Promise.all([n.e(0),n.e(9)]).then(n.bind(null,128))})),Q=Object(k.b)()((function(){var e=Object(k.c)();return Object(a.useEffect)((function(){e(Object(j.a)())}),[e]),Object(R.jsxs)(F,{children:[Object(R.jsx)(U,{}),Object(R.jsx)(C.d,{children:Object(R.jsxs)(a.Suspense,{fallback:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430...",children:[Object(R.jsx)(G,{path:"/",exact:!0,children:Object(R.jsx)(W,{})}),Object(R.jsxs)(K,{path:"/contacts",children:[Object(R.jsx)(X,{}),Object(R.jsx)(Y,{}),Object(R.jsx)(Z,{})]}),Object(R.jsx)(G,{restrickted:!0,path:"/login",children:Object(R.jsx)(q,{})}),Object(R.jsx)(G,{restrickted:!0,path:"/register",children:Object(R.jsx)(H,{})})]})})]})}));u.a.render(Object(R.jsx)(s.a.StrictMode,{children:Object(R.jsx)(k.a,{store:x,children:Object(R.jsx)(g.a,{loading:null,persistor:m,children:Object(R.jsx)(y.a,{children:Object(R.jsx)(Q,{})})})})}),document.getElementById("root"))},9:function(e,t,n){"use strict";n.d(t,"d",(function(){return b})),n.d(t,"c",(function(){return d})),n.d(t,"b",(function(){return j})),n.d(t,"a",(function(){return f}));var r=n(7),c=n.n(r),a=n(19),s=n(12),i=n.n(s),u=n(5);i.a.defaults.baseURL="https://connections-api.herokuapp.com/";var o=function(e){i.a.defaults.headers.common.Authorization="Bearer ".concat(e)},l=function(){i.a.defaults.headers.common.Authorization=""},b=Object(u.c)("users/registration",function(){var e=Object(a.a)(c.a.mark((function e(t){var n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.post("/users/signup",t);case 2:return n=e.sent,r=n.data,o(r.token),e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),d=Object(u.c)("users/logedIn",function(){var e=Object(a.a)(c.a.mark((function e(t){var n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.a.post("/users/login",t);case 2:return n=e.sent,r=n.data,o(r.token),e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),j=Object(u.c)("users/logOut",Object(a.a)(c.a.mark((function e(){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.a.post("/users/logout");case 3:l(),e.next=9;break;case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",e.t0);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})))),f=Object(u.c)("user/getCurrentUserData",function(){var e=Object(a.a)(c.a.mark((function e(t,n){var r,a,s,u;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.getState,null!==(a=r().user.token)){e.next=4;break}return e.abrupt("return",{name:"",email:"",isLogedIn:!1});case 4:return o(a),e.prev=5,e.next=8,i.a.get("/users/current");case 8:return s=e.sent,u=s.data,e.abrupt("return",{name:u.name,email:u.email,isLogedIn:!0});case 13:return e.prev=13,e.t0=e.catch(5),e.abrupt("return",e.t0);case 16:case"end":return e.stop()}}),e,null,[[5,13]])})));return function(t,n){return e.apply(this,arguments)}}())}},[[88,2,3]]]);
//# sourceMappingURL=main.4223ae3c.chunk.js.map